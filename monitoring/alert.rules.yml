groups:
- name: hadoop_alerts
  rules:
  - alert: DataNodeDown
    expr: up{job="datanode"} == 0
    for: 30s
    labels:
      severity: critical
    annotations:
      summary: "DataNode Down"
      description: "The DataNode has been unreachable for more than 30s."

  - alert: NameNodeInSafeMode
    expr: hadoop_namenode_safemode_status == 1
    for: 1m
    labels:
      severity: warning
    annotations:
      summary: "NameNode in Safe Mode"
      description: "The NameNode has entered safe mode."

  - alert: LowDiskSpace
    expr: (node_filesystem_avail_bytes / node_filesystem_size_bytes) < 0.1
    for: 1m
    labels:
      severity: warning
    annotations:
      summary: "Low Disk Space"
      description: "Less than 10% of disk space available."

